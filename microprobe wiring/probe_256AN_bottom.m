%first column = channel number on probe.  Convention is ch. 1 is at top left of PCB
%and number wrap around in counter-clockwise fashion.

%second column = x coordinate, horizontal distance to reference electrode in microns.  Convention is
%for reference electrode to be at bottom left corner of array when array
%points up.

%third column = y coordinate.  Convention is for this coordinate to be zero
%unless the probe is 3D.

%forth column = z coordinate, vertical distance to reference electrode in microns.  Convention is
%for reference electrode to be at bottom left corner of array when array
%points up.

%fifth column = shaft number.  Convention is for shaft 1 to be the
%right-most shaft when array points up.

probewiring=[

1	40	0	750	4
2	40	0	700	4
3	40	0	650	4
4	40	0	600	4
5	40	0	550	4
6	40	0	500	4
7	40	0	450	4
8	40	0	400	4
9	40	0	350	4
10	40	0	300	4
11	40	0	250	4
12	40	0	200	4
13	40	0	150	4
14	40	0	100	4
15	40	0	50	4
16	40	0	0	4
17	40	0	800	4
18	40	0	850	4
19	40	0	900	4
20	40	0	950	4
21	36	0	1000	4
22	20	0	1025	4
23	20	0	925	4
24	20	0	825	4
25	20	0	725	4
26	20	0	625	4
27	20	0	525	4
28	20	0	425	4
29	20	0	325	4
30	20	0	225	4
31	20	0	125	4
32	20	0	25	4
33	20	0	75	4
34	20	0	175	4
35	20	0	275	4
36	20	0	375	4
37	20	0	475	4
38	20	0	575	4
39	20	0	675	4
40	20	0	775	4
41	20	0	875	4
42	20	0	975	4
43	20	0	1050	4
44	4	0	1000	4
45	0	0	950	4
46	0	0	900	4
47	0	0	850	4
48	0	0	800	4
49	0	0	750	4
50	0	0	0	4
51	0	0	50	4
52	0	0	100	4
53	0	0	150	4
54	0	0	200	4
55	0	0	250	4
56	0	0	300	4
57	0	0	350	4
58	0	0	400	4
59	0	0	450	4
60	0	0	500	4
61	0	0	550	4
62	0	0	600	4
63	0	0	650	4
64	0	0	700	4
65	200	0	700	3
66	200	0	650	3
67	200	0	600	3
68	200	0	550	3
69	200	0	500	3
70	200	0	450	3
71	200	0	400	3
72	200	0	350	3
73	200	0	300	3
74	200	0	250	3
75	200	0	200	3
76	200	0	150	3
77	200	0	100	3
78	200	0	50	3
79	200	0	0	3
80	200	0	750	3
81	200	0	800	3
82	200	0	850	3
83	200	0	900	3
84	200	0	950	3
85	204	0	1000	3
86	220	0	1050	3
87	220	0	975	3
88	220	0	875	3
89	220	0	775	3
90	220	0	675	3
91	220	0	575	3
92	220	0	475	3
93	220	0	375	3
94	220	0	275	3
95	220	0	175	3
96	220	0	75	3
97	220	0	25	3
98	220	0	125	3
99	220	0	225	3
100	220	0	325	3
101	220	0	425	3
102	220	0	525	3
103	220	0	625	3
104	220	0	725	3
105	220	0	825	3
106	220	0	925	3
107	220	0	1025	3
108	236	0	1000	3
109	240	0	950	3
110	240	0	900	3
111	240	0	850	3
112	240	0	800	3
113	240	0	0	3
114	240	0	50	3
115	240	0	100	3
116	240	0	150	3
117	240	0	200	3
118	240	0	250	3
119	240	0	300	3
120	240	0	350	3
121	240	0	400	3
122	240	0	450	3
123	240	0	500	3
124	240	0	550	3
125	240	0	600	3
126	240	0	650	3
127	240	0	700	3
128	240	0	750	3
129	400	0	700	2
130	400	0	650	2
131	400	0	600	2
132	400	0	550	2
133	400	0	500	2
134	400	0	450	2
135	400	0	400	2
136	400	0	350	2
137	400	0	300	2
138	400	0	250	2
139	400	0	200	2
140	400	0	150	2
141	400	0	100	2
142	400	0	50	2
143	400	0	0	2
144	400	0	750	2
145	400	0	800	2
146	400	0	850	2
147	400	0	900	2
148	400	0	950	2
149	404	0	1000	2
150	420	0	1050	2
151	420	0	975	2
152	420	0	875	2
153	420	0	775	2
154	420	0	675	2
155	420	0	575	2
156	420	0	475	2
157	420	0	375	2
158	420	0	275	2
159	420	0	175	2
160	420	0	75	2
161	420	0	25	2
162	420	0	125	2
163	420	0	225	2
164	420	0	325	2
165	420	0	425	2
166	420	0	525	2
167	420	0	625	2
168	420	0	725	2
169	420	0	825	2
170	420	0	925	2
171	420	0	1025	2
172	436	0	1000	2
173	440	0	950	2
174	440	0	900	2
175	440	0	850	2
176	440	0	800	2
177	440	0	0	2
178	440	0	50	2
179	440	0	100	2
180	440	0	150	2
181	440	0	200	2
182	440	0	250	2
183	440	0	300	2
184	440	0	350	2
185	440	0	400	2
186	440	0	450	2
187	440	0	500	2
188	440	0	550	2
189	440	0	600	2
190	440	0	650	2
191	440	0	700	2
192	440	0	750	2
193	640	0	750	1
194	640	0	700	1
195	640	0	650	1
196	640	0	600	1
197	640	0	550	1
198	640	0	500	1
199	640	0	450	1
200	640	0	400	1
201	640	0	350	1
202	640	0	300	1
203	640	0	250	1
204	640	0	200	1
205	640	0	150	1
206	640	0	100	1
207	640	0	50	1
208	640	0	0	1
209	640	0	800	1
210	640	0	850	1
211	640	0	900	1
212	640	0	950	1
213	636	0	1000	1
214	620	0	1025	1
215	620	0	925	1
216	620	0	825	1
217	620	0	725	1
218	620	0	625	1
219	620	0	525	1
220	620	0	425	1
221	620	0	325	1
222	620	0	225	1
223	620	0	125	1
224	620	0	25	1
225	620	0	75	1
226	620	0	175	1
227	620	0	275	1
228	620	0	375	1
229	620	0	475	1
230	620	0	575	1
231	620	0	675	1
232	620	0	775	1
233	620	0	875	1
234	620	0	975	1
235	620	0	1050	1
236	604	0	1000	1
237	600	0	950	1
238	600	0	900	1
239	600	0	850	1
240	600	0	800	1
241	600	0	750	1
242	600	0	0	1
243	600	0	50	1
244	600	0	100	1
245	600	0	150	1
246	600	0	200	1
247	600	0	250	1
248	600	0	300	1
249	600	0	350	1
250	600	0	400	1
251	600	0	450	1
252	600	0	500	1
253	600	0	550	1
254	600	0	600	1
255	600	0	650	1
256	600	0	700	1


];


tipelectrode=30;    %nearest tip-electrode vertical distance in microns.

connector_position='bottom';

find_probewiring




s=[];
s.channels=probewiring(:,1);
s.x=probewiring(:,2);   %the reference electrode is always the top right channel when the probes are pointing up.
s.y=probewiring(:,3);
s.z=probewiring(:,4); s.z=s.z-min(s.z);
s.shaft=probewiring(:,5);
s.tipelectrode=tipelectrode;

if strcmp(headstage_source,'Intan')
    s.channels=s.channels-1;
end

% %To plot the labeled channels:
figure(2)
clf
plot(s.x,s.z,'sqr', 'MarkerSize',11)
hold on
for i=1:size(probewiring,1)
text(s.x(i)-5,s.z(i),num2str(s.channels(i)),'FontSize',9)
end
axis([min(s.x)-50 max(s.x)+50 min(s.z)-50 max(s.z)+50])
axis equal
set(gca,'FontSize',10,'TickDir','out')
