%first column = channel number on probe.  Convention is ch. 1 is at top left of PCB
%and number wrap around in counter-clockwise fashion.

%second column = x coordinate, horizontal distance to reference electrode in microns.  Convention is
%for reference electrode to be at bottom left corner of array when array
%points up.

%third column = y coordinate.  Convention is for this coordinate to be zero
%unless the probe is 3D.

%forth column = z coordinate, vertical distance to reference electrode in microns.  Convention is
%for reference electrode to be at bottom left corner of array when array
%points up.

%fifth column = shaft number.  Convention is for shaft 1 to be the
%right-most shaft when array points up.

probewiring=[

1	0	0	1890	4
2	0	0	1830	4
3	0	0	1770	4
4	0	0	1710	4
5	0	0	1650	4
6	0	0	1590	4
7	0	0	1530	4
8	0	0	1470	4
9	0	0	1410	4
10	0	0	1350	4
11	0	0	1290	4
12	0	0	1230	4
13	0	0	1170	4
14	0	0	1110	4
15	0	0	1050	4
16	0	0	990	4
17	0	0	930	4
18	0	0	870	4
19	0	0	810	4
20	0	0	750	4
21	0	0	690	4
22	0	0	630	4
23	0	0	570	4
24	0	0	510	4
25	0	0	450	4
26	0	0	390	4
27	0	0	330	4
28	0	0	270	4
29	0	0	210	4
30	0	0	150	4
31	0	0	90	4
32	0	0	30	4
33	0	0	0	4
34	0	0	60	4
35	0	0	120	4
36	0	0	180	4
37	0	0	240	4
38	0	0	300	4
39	0	0	360	4
40	0	0	420	4
41	0	0	480	4
42	0	0	540	4
43	0	0	600	4
44	0	0	660	4
45	0	0	720	4
46	0	0	780	4
47	0	0	840	4
48	0	0	900	4
49	0	0	960	4
50	0	0	1020	4
51	0	0	1080	4
52	0	0	1140	4
53	0	0	1200	4
54	0	0	1260	4
55	0	0	1320	4
56	0	0	1380	4
57	0	0	1440	4
58	0	0	1500	4
59	0	0	1560	4
60	0	0	1620	4
61	0	0	1680	4
62	0	0	1740	4
63	0	0	1800	4
64	0	0	1860	4
65	400	0	1860	3
66	400	0	1800	3
67	400	0	1740	3
68	400	0	1680	3
69	400	0	1620	3
70	400	0	1560	3
71	400	0	1500	3
72	400	0	1440	3
73	400	0	1380	3
74	400	0	1320	3
75	400	0	1260	3
76	400	0	1200	3
77	400	0	1140	3
78	400	0	1080	3
79	400	0	1020	3
80	400	0	960	3
81	400	0	900	3
82	400	0	840	3
83	400	0	780	3
84	400	0	720	3
85	400	0	660	3
86	400	0	600	3
87	400	0	540	3
88	400	0	480	3
89	400	0	420	3
90	400	0	360	3
91	400	0	300	3
92	400	0	240	3
93	400	0	180	3
94	400	0	120	3
95	400	0	60	3
96	400	0	0	3
97	400	0	30	3
98	400	0	90	3
99	400	0	150	3
100	400	0	210	3
101	400	0	270	3
102	400	0	330	3
103	400	0	390	3
104	400	0	450	3
105	400	0	510	3
106	400	0	570	3
107	400	0	630	3
108	400	0	690	3
109	400	0	750	3
110	400	0	810	3
111	400	0	870	3
112	400	0	930	3
113	400	0	990	3
114	400	0	1050	3
115	400	0	1110	3
116	400	0	1170	3
117	400	0	1230	3
118	400	0	1290	3
119	400	0	1350	3
120	400	0	1410	3
121	400	0	1470	3
122	400	0	1530	3
123	400	0	1590	3
124	400	0	1650	3
125	400	0	1710	3
126	400	0	1770	3
127	400	0	1830	3
128	400	0	1890	3
129	800	0	1860	2
130	800	0	1800	2
131	800	0	1740	2
132	800	0	1680	2
133	800	0	1620	2
134	800	0	1560	2
135	800	0	1500	2
136	800	0	1440	2
137	800	0	1380	2
138	800	0	1320	2
139	800	0	1260	2
140	800	0	1200	2
141	800	0	1140	2
142	800	0	1080	2
143	800	0	1020	2
144	800	0	960	2
145	800	0	900	2
146	800	0	840	2
147	800	0	780	2
148	800	0	720	2
149	800	0	660	2
150	800	0	600	2
151	800	0	540	2
152	800	0	480	2
153	800	0	420	2
154	800	0	360	2
155	800	0	300	2
156	800	0	240	2
157	800	0	180	2
158	800	0	120	2
159	800	0	60	2
160	800	0	0	2
161	800	0	30	2
162	800	0	90	2
163	800	0	150	2
164	800	0	210	2
165	800	0	270	2
166	800	0	330	2
167	800	0	390	2
168	800	0	450	2
169	800	0	510	2
170	800	0	570	2
171	800	0	630	2
172	800	0	690	2
173	800	0	750	2
174	800	0	810	2
175	800	0	870	2
176	800	0	930	2
177	800	0	990	2
178	800	0	1050	2
179	800	0	1110	2
180	800	0	1170	2
181	800	0	1230	2
182	800	0	1290	2
183	800	0	1350	2
184	800	0	1410	2
185	800	0	1470	2
186	800	0	1530	2
187	800	0	1590	2
188	800	0	1650	2
189	800	0	1710	2
190	800	0	1770	2
191	800	0	1830	2
192	800	0	1890	2
193	1200	0	1890	1
194	1200	0	1830	1
195	1200	0	1770	1
196	1200	0	1710	1
197	1200	0	1650	1
198	1200	0	1590	1
199	1200	0	1530	1
200	1200	0	1470	1
201	1200	0	1410	1
202	1200	0	1350	1
203	1200	0	1290	1
204	1200	0	1230	1
205	1200	0	1170	1
206	1200	0	1110	1
207	1200	0	1050	1
208	1200	0	990	1
209	1200	0	930	1
210	1200	0	870	1
211	1200	0	810	1
212	1200	0	750	1
213	1200	0	690	1
214	1200	0	630	1
215	1200	0	570	1
216	1200	0	510	1
217	1200	0	450	1
218	1200	0	390	1
219	1200	0	330	1
220	1200	0	270	1
221	1200	0	210	1
222	1200	0	150	1
223	1200	0	90	1
224	1200	0	30	1
225	1200	0	0	1
226	1200	0	60	1
227	1200	0	120	1
228	1200	0	180	1
229	1200	0	240	1
230	1200	0	300	1
231	1200	0	360	1
232	1200	0	420	1
233	1200	0	480	1
234	1200	0	540	1
235	1200	0	600	1
236	1200	0	660	1
237	1200	0	720	1
238	1200	0	780	1
239	1200	0	840	1
240	1200	0	900	1
241	1200	0	960	1
242	1200	0	1020	1
243	1200	0	1080	1
244	1200	0	1140	1
245	1200	0	1200	1
246	1200	0	1260	1
247	1200	0	1320	1
248	1200	0	1380	1
249	1200	0	1440	1
250	1200	0	1500	1
251	1200	0	1560	1
252	1200	0	1620	1
253	1200	0	1680	1
254	1200	0	1740	1
255	1200	0	1800	1
256	1200	0	1860	1

];


tipelectrode=56;    %nearest tip-electrode vertical distance in microns.

connector_position='top';

find_probewiring



s=[];
s.channels=probewiring(:,1);
s.x=probewiring(:,2);   %the reference electrode is always the top right channel when the probes are pointing up.
s.y=probewiring(:,3);
s.z=probewiring(:,4); s.z=s.z-min(s.z);
s.shaft=probewiring(:,5);
s.tipelectrode=tipelectrode;

if strcmp(headstage_source,'Intan')
    s.channels=s.channels-1;
end

%To plot the labeled channels:
figure(3)
clf
plot(s.x,s.z,'sqr', 'MarkerSize',11)
hold on
for i=1:size(probewiring,1)
text(s.x(i)-5,s.z(i),num2str(s.channels(i)),'FontSize',9)
end
axis([min(s.x)-50 max(s.x)+50 min(s.z)-50 max(s.z)+50])
axis equal
set(gca,'FontSize',10,'TickDir','out')
